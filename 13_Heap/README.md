# 堆
堆（heap）分为*小根堆*和*大根堆*两种

小根堆是具有如下特性的一颗完全二叉树
1. 若树根结点存在左孩子，则根节点的值小于等于左孩子结点的值
2. 若树根结点存在右孩子，则根节点的值小于等于右孩子结点的值
3. 以左、右孩子为根的子树又各是一个堆

大根堆与小根堆定义类似，只要把小于等于改为大于等于就得到了。

根据堆的定义可知，堆顶结点，既整个完全二叉树的根节点，对于小根堆来说具有*最小值*，对于大根堆来说具有*最大值*


### 堆的抽象数据类型
~~~
ADT HEAP is
	Data:
		具有 HeadType 类型的一个堆 HBT
	Operations:
		// 初始化一个堆为空
		void initHeap(Heap &HBT);
		// 清除一个堆，使之为空
		void clearHeap(Heap &HBT);
		// 判断一个堆是否为空
		bool emptyHeap(Heap &HBT);
		// 向堆中插入元素
		void insertHeap(Heap &HBT, ElemType item);
		// 从堆中删除堆顶元素并返回
		ElemType deleteHeap(Heap &HBT);

end HEAP
~~~

### 堆的存储结构
堆同一般二叉树一样即可采用*顺序存储*，也可以采用*连接存储*，但由于堆是一个*完全二叉树*，所以适宜采用顺序存储，这样能够充分利用存储空间。


### 堆的算法

#####向堆中插入一个元素

>向堆中插入一个元素时，首先将该元素写入到堆尾，既堆中最后一个元素的后面，然后重新调整为一个新堆。
由于在原有堆上插入一个新元素后，可能使以该元素的双亲结点为根的子树不为堆，从而使整个树不为堆，所以必须重新进行调整使之仍为一个堆。
调整方法：若新元素小于双亲结点的值，就让他们互换位置；但新元素可能还小于此位置的双亲结点的值，再与上层互换位置，以此类推。

![堆插入元素](https://github.com/cikewang/DataStruct/blob/master/Z_Images/13_heap_1.jpg)
* 插入 50 ：由于新元素不小于双亲结点的值35，所以以35为根的子树仍为一个堆，所以不需要调整
* 插入 30 ：由于新元素小于双亲结点的值35，所以需要将30与35对调位置，对调后因新元素30不小于其双亲元素18，所以调整结束，得到一个新的堆
* 插入 15 ：由于新元素小于双亲结点的值35，又小于其双亲元素18，经过调整后得到新的堆
	 

#####从堆中删除元素

>从堆中删除元素就是删除堆顶元素并使之返回。堆顶元素被删除后，留下的堆顶位置应由堆尾元素来填补。这样既保持了顺序存储结构又不需要移动其他任何元素。然后在进行调整
	
	调整过程：
	1. 首先从根节点开始，若树根节点中的最小值，就将它与具有最小值的孩子结点互换位置，使得根节点的值小于两个孩子结点的值。
	2. 原树根节点被调到一个孩子位置后，可能使以该位置为根的子树又不为堆，因而又需要重新调整新元素向孩子一层调整，如此调整下去。
	



	
	
	
	









